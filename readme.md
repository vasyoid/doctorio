# Doctor.io

Сервис записи к врачу

### Функциональность

* Есть два вида пользователей -- Клиника (больница, поликлиника, частная клиника...) и Пациент

* Клиника может добавлять информацию о Врачах, включая:
  * Список компетенций
  * Адрес (в каком отделении и по какому адресу принимает Врач)
  * Расписание приема
  * Стоимость приема

* Пациент может выбирать Врача, используя фильтры:
  * по специанльности
  * по стоимости приема

* Когда Пациент выбрал Врача, он  может записаться на прием в любой из доступных временных слотов

* Пациент может отменить запись не более чем за n асов до начала приема

* Если Пациент пришел на прием, Клиника отмечает, что прием состоялся

* Если Пациент несколько раз не приходит на прием и не отменяет запись, он получает предупреждение

* Если Пациент многократно не приходит на прием, его аккаунт блокируется

* Пациенты могут ставить оценки Врачам и писать комментарии

* За отзывы Пациенты получают бонусы, которые они могут потратить на оплату следующих приемов

* Пациенты могут выполнять Задания, за которые также получают бонусы
  * Пример задания: Проверить, что по такому-то адресу находится такая Клиника, и в неё работает такой-то врач. 

* Одно задание дается сразу нескольким Пациентам, и результат выбирается из мнения большинства


### Запуск

Перед первым запуском нужно задать правильные значения в [конфиге](./src/doctorio/config.py) для подключения к бд,
либо задать их в переменных окружения.

Затем надо настроить приложение и прогнать все миграции:

```shell
$ poetry install
$ poetry run alembic upgrade head
```

Теперь можно запускать:

```shell
$ poetry run uvicorn doctorio.asgi:app
```

После запуска по адресу `localhost:8000/docs` появится документация по api.
